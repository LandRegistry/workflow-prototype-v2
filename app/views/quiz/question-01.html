{% extends "layouts/non-wf.html" %}

{#% 
  set pageName="Quiz question" 
%#}

{% block content %}
<div class="content-wrapper">       
    
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">
      
            <div class="govuk-form-group">
                <fieldset class="govuk-fieldset">
                  <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
                    <h1 class="govuk-fieldset__heading">
                      Where do you live?
                    </h1>
                  </legend>
                  <div class="govuk-radios" data-module="govuk-radios">
                    <div class="govuk-radios__item">
                      <input class="govuk-radios__input" id="whereDoYouLive" name="whereDoYouLive" type="radio" value="england">
                      <label class="govuk-label govuk-radios__label" for="whereDoYouLive">
                        England
                      </label>
                    </div>
                    <div class="govuk-radios__item">
                      <input class="govuk-radios__input" id="whereDoYouLive-2" name="whereDoYouLive" type="radio" value="scotland">
                      <label class="govuk-label govuk-radios__label" for="whereDoYouLive-2">
                        Scotland
                      </label>
                    </div>
                    <div class="govuk-radios__item">
                      <input class="govuk-radios__input" id="whereDoYouLive-3" name="whereDoYouLive" type="radio" value="wales">
                      <label class="govuk-label govuk-radios__label" for="whereDoYouLive-3">
                        Wales
                      </label>
                    </div>
                    <div class="govuk-radios__item">
                      <input class="govuk-radios__input" id="whereDoYouLive-4" name="whereDoYouLive" type="radio" value="northern-ireland">
                      <label class="govuk-label govuk-radios__label" for="whereDoYouLive-4">
                        Northern Ireland
                      </label>
                    </div>
                  </div>
                </fieldset>
              </div>

              <hr>

              <table cellspacing="0" cellpadding="10" id="tableID">
                <tr>
                  <th>Q1</th>
                  <th>Q2</th>
                  <th>Q3</th>
                </tr>                
                <tr>
                    <td>Ron</td>
                    <td>154</td>
                    <td>Hyderabad</td>
                </tr>
                <tr>
                    <td>Reg</td>
                    <td>46</td>
                    <td>Ranchi</td>
                </tr>
                <tr>
                    <td>Jane</td>
                    <td>33</td>
                    <td>Delhi</td>
                </tr>
            </table>
            
            <br>
            <button onclick="tableToCSV()">Download CSV</button>
        
            <script>
                function tableToCSV() {
                    let csv_data = [];
                    let rows = document.getElementsByTagName('tr');
        
                    for (let i = 0; i < rows.length; i++) {
                        let cols = rows[i].querySelectorAll('td,th');
                        let csvrow = [];
        
                        for (let j = 0; j < cols.length; j++) {
                            csvrow.push(cols[j].innerHTML);
                        }
        
                        csv_data.push(csvrow.join(","));
                    }
        
                    csv_data = csv_data.join('\n');
        
                    // Create a Blob and download link
                    const blob = new Blob([csv_data], { type: 'text/csv' });
                    const url = window.URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = 'table_data.csv';
                    a.click();
                    window.URL.revokeObjectURL(url);
                }
            </script>  
            
            






        </div>
   </div>  

</div>
{% endblock %}
